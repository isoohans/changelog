<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Bootserver Release Notes</title>
        <link rel="stylesheet" type="text/css" href="../css/theme.css">
        <link rel="stylesheet" type="text/css" href="../css/style.css">
    </head>
    <body>
        <div class="login main">
            <a href="http://opinsys.fi" target="_blank">
                <img src="../opinsys_logo.png" alt="Opinsys Oy">
            </a>
            <div class="doc">
            <h1>Bootserver Release Notes</h1>

<pre class="markdown"><code>

## Release 27 {#27}

### Notable changes

* New package `puavo-wlancontroller` is configured to run a HTTP
  server at port 45046, providing status information about the WLAN
  network, collected from `puavo-wlanap` instances (from version
  0.12.9 onwards).

### Security updates

  - Package `bind9`:
    [CVE-2015-8000](https://security-tracker.debian.org/tracker/CVE-2015-8000)

  - Package `dpkg`:
    [CVE-2015-0860](https://security-tracker.debian.org/tracker/CVE-2015-0860)

  - Package `foomatic-filters`:
    [CVE-2015-8560](https://security-tracker.debian.org/tracker/CVE-2015-8560)

  - Package `git`:
    [CVE-2015-7545](https://security-tracker.debian.org/tracker/CVE-2015-7545)

  - Package `grub2`:
    [CVE-2015-8370](https://security-tracker.debian.org/tracker/CVE-2015-8370)

  - Package `gnutls26`:
    [CVE-2015-7575](https://security-tracker.debian.org/tracker/CVE-2015-7575)

  - Package `isc-dhcp`:
    [CVE-2015-8605](https://security-tracker.debian.org/tracker/CVE-2015-8605)

  - Package `libpng`:
    [CVE-2015-8472](https://security-tracker.debian.org/tracker/CVE-2015-8472),
    [CVE-2015-8540](https://security-tracker.debian.org/tracker/CVE-2015-8540)

  - Package `libsndfile`:
    [CVE-2014-9496](https://security-tracker.debian.org/tracker/CVE-2014-9496),
    [CVE-2014-9756](https://security-tracker.debian.org/tracker/CVE-2014-9756),
    [CVE-2015-7805](https://security-tracker.debian.org/tracker/CVE-2015-7805)

  - Package `libxml2`:
    [CVE-2015-5312](https://security-tracker.debian.org/tracker/CVE-2015-5312),
    [CVE-2015-7497](https://security-tracker.debian.org/tracker/CVE-2015-7497),
    [CVE-2015-7498](https://security-tracker.debian.org/tracker/CVE-2015-7498),
    [CVE-2015-7499](https://security-tracker.debian.org/tracker/CVE-2015-7499),
    [CVE-2015-7500](https://security-tracker.debian.org/tracker/CVE-2015-7500),
    [CVE-2015-8241](https://security-tracker.debian.org/tracker/CVE-2015-8241),
    [CVE-2015-8242](https://security-tracker.debian.org/tracker/CVE-2015-8242),
    [CVE-2015-8317](https://security-tracker.debian.org/tracker/CVE-2015-8317)

  - Package `nss`:
    [CVE-2015-7575](https://security-tracker.debian.org/tracker/CVE-2015-7575)

  - Package `openssl`:
    [CVE-2015-7575](https://security-tracker.debian.org/tracker/CVE-2015-7575)

  - Package `samba`:
    [CVE-2015-5252](https://security-tracker.debian.org/tracker/CVE-2015-5252),
    [CVE-2015-5296](https://security-tracker.debian.org/tracker/CVE-2015-5296),
    [CVE-2015-5299](https://security-tracker.debian.org/tracker/CVE-2015-5299),
    [CVE-2015-5330](https://security-tracker.debian.org/tracker/CVE-2015-5330)

  - Package `xen`:
    [CVE-2015-8550](https://security-tracker.debian.org/tracker/CVE-2015-8550),
    [CVE-2015-8340](https://security-tracker.debian.org/tracker/CVE-2015-8340),
    [CVE-2015-7504](https://security-tracker.debian.org/tracker/CVE-2015-7504),
    [CVE-2015-8554](https://security-tracker.debian.org/tracker/CVE-2015-8554),
    [CVE-2015-8555](https://security-tracker.debian.org/tracker/CVE-2015-8555)

### Update path from Release 26

- Typically, need to get 189.0MiB of archives.

- Has **medium** impact on the availability of the end user service:

  - Several daemon processes, such as `isc-dhcp-server`, `bind9`,
    `ntpd`, `nmbd`, `smbd` and `puavo-rest`, with restart durations,
    will be restarted during the update process

  - Daemon process `puavo-rest` will be started and stopped during the
    update process. Estimated service downtime for this process ranges
    from 30sec to 2min. During the downtime, netboot devices are
    unable to boot or login.

- <advanced title="5 new packages">
      linux-headers-3.2.0-97         (3.2.0-97.137)
      linux-headers-3.2.0-97-generic (3.2.0-97.137)
      linux-image-3.2.0-97-generic   (3.2.0-97.137)
      puavo-wlancontroller           (0.12.12)
</advanced>

- <advanced title="55 updated packages">
      bind9                             (9.8.1.dfsg.P1-4ubuntu0.13 => 9.8.1.dfsg.P1-4ubuntu0.14)
      bind9-host                        (9.8.1.dfsg.P1-4ubuntu0.13 => 9.8.1.dfsg.P1-4ubuntu0.14)
      bind9utils                        (9.8.1.dfsg.P1-4ubuntu0.13 => 9.8.1.dfsg.P1-4ubuntu0.14)
      debootstrap                       (1.0.40~ubuntu0.8 => 1.0.40~ubuntu0.9)
      dnsutils                          (9.8.1.dfsg.P1-4ubuntu0.13 => 9.8.1.dfsg.P1-4ubuntu0.14)
      dpkg                              (1.16.1.2ubuntu7.6 => 1.16.1.2ubuntu7.7)
      dpkg-dev                          (1.16.1.2ubuntu7.6 => 1.16.1.2ubuntu7.7)
      foomatic-filters                  (4.0.16-0ubuntu0.2 => 4.0.16-0ubuntu0.4)
      git                               (1.7.9.5-1ubuntu0.1 => 1.7.9.5-1ubuntu0.2)
      git-man                           (1.7.9.5-1ubuntu0.1 => 1.7.9.5-1ubuntu0.2)
      grub-common                       (1.99-21ubuntu3.18 => 1.99-21ubuntu3.19)
      grub-pc                           (1.99-21ubuntu3.18 => 1.99-21ubuntu3.19)
      grub-pc-bin                       (1.99-21ubuntu3.18 => 1.99-21ubuntu3.19)
      grub2-common                      (1.99-21ubuntu3.18 => 1.99-21ubuntu3.19)
      icedtea-6-jre-cacao               (6b36-1.13.8-0ubuntu1~12.04 => 6b37-1.13.9-1ubuntu0.12.04.1)
      icedtea-6-jre-jamvm               (6b36-1.13.8-0ubuntu1~12.04 => 6b37-1.13.9-1ubuntu0.12.04.1)
      isc-dhcp-client                   (4.1.ESV-R4-0ubuntu5.9 => 4.1.ESV-R4-0ubuntu5.10)
      isc-dhcp-common                   (4.1.ESV-R4-0ubuntu5.9 => 4.1.ESV-R4-0ubuntu5.10)
      isc-dhcp-server                   (4.1.ESV-R4-0ubuntu5.9 => 4.1.ESV-R4-0ubuntu5.10)
      libbind9-80                       (9.8.1.dfsg.P1-4ubuntu0.13 => 9.8.1.dfsg.P1-4ubuntu0.14)
      libdns81                          (9.8.1.dfsg.P1-4ubuntu0.13 => 9.8.1.dfsg.P1-4ubuntu0.14)
      libdpkg-perl                      (1.16.1.2ubuntu7.6 => 1.16.1.2ubuntu7.7)
      libgnutls26                       (2.12.14-5ubuntu3.9 => 2.12.14-5ubuntu3.11)
      libisc83                          (9.8.1.dfsg.P1-4ubuntu0.13 => 9.8.1.dfsg.P1-4ubuntu0.14)
      libisccc80                        (9.8.1.dfsg.P1-4ubuntu0.13 => 9.8.1.dfsg.P1-4ubuntu0.14)
      libisccfg82                       (9.8.1.dfsg.P1-4ubuntu0.13 => 9.8.1.dfsg.P1-4ubuntu0.14)
      liblwres80                        (9.8.1.dfsg.P1-4ubuntu0.13 => 9.8.1.dfsg.P1-4ubuntu0.14)
      libnss3                           (3.19.2.1-0ubuntu0.12.04.1 => 3.19.2.1-0ubuntu0.12.04.2)
      libnss3-1d                        (3.19.2.1-0ubuntu0.12.04.1 => 3.19.2.1-0ubuntu0.12.04.2)
      libpng12-0                        (1.2.46-3ubuntu4 => 1.2.46-3ubuntu4.2)
      libsndfile1                       (1.0.25-4 => 1.0.25-4ubuntu0.1)
      libssl1.0.0                       (1.0.1-4ubuntu5.31 => 1.0.1-4ubuntu5.33)
      libwbclient0                      (3.6.3-2ubuntu2.12 => 3.6.3-2ubuntu2.13)
      libxen-4.1                        (4.1.6.1-0ubuntu0.12.04.6 => 4.1.6.1-0ubuntu0.12.04.8)
      libxenstore3.0                    (4.1.6.1-0ubuntu0.12.04.6 => 4.1.6.1-0ubuntu0.12.04.8)
      libxml2                           (2.7.8.dfsg-5.1ubuntu4.11 => 2.7.8.dfsg-5.1ubuntu4.13)
      libxml2-utils                     (2.7.8.dfsg-5.1ubuntu4.11 => 2.7.8.dfsg-5.1ubuntu4.13)
      linux-generic-lts-trusty          (3.13.0.68.60 => 3.13.0.74.66)
      linux-headers-generic-lts-trusty  (3.13.0.68.60 => 3.13.0.74.66)
      linux-image-generic-lts-trusty    (3.13.0.68.60 => 3.13.0.74.66)
      linux-image-server                (3.2.0.94.108 => 3.2.0.97.113)
      ntp                               (4.2.6.p3+dfsg-1ubuntu3.6 => 4.2.6.p3+dfsg-1ubuntu3.7)
      ntpdate                           (4.2.6.p3+dfsg-1ubuntu3.6 => 4.2.6.p3+dfsg-1ubuntu3.7)
      openjdk-6-jre-headless            (6b36-1.13.8-0ubuntu1~12.04 => 6b37-1.13.9-1ubuntu0.12.04.1)
      openjdk-6-jre-lib                 (6b36-1.13.8-0ubuntu1~12.04 => 6b37-1.13.9-1ubuntu0.12.04.1)
      openssl                           (1.0.1-4ubuntu5.31 => 1.0.1-4ubuntu5.33)
      puavo-image-tools                 (0.17.0-943+precise+master.7df6057a87f0e86a7c2997cfbe81325093c54de7 => 0.17.0-959+precise+master.bb116591fb2a6683633fbb61649d83750c673890)
      puavo-ltsp-bootserver             (0.17.0-944+precise+sync.images.v3.79f92c1e4c2ca05c684ee2c23dd98fc46150b7fc => 0.17.0-959+precise+master.bb116591fb2a6683633fbb61649d83750c673890)
      puavo-rest                        (0.11.0-728+precise.master.d35b30b58bc86233baec8563ebd8bacf752f37da => 0.11.0-758+precise.master.b08439ffe648a37efa156cef9595125f4c54fea5)
      puavo-rest-bootserver             (0.11.0-728+precise.master.d35b30b58bc86233baec8563ebd8bacf752f37da => 0.11.0-758+precise.master.b08439ffe648a37efa156cef9595125f4c54fea5)
      python-pygments                   (1.4+dfsg-2 => 1.4+dfsg-2ubuntu0.1)
      ruby-puavobs                      (0.16.1-928+precise+master.2211bb558f7f140674659071cb0e1cb09e82ab5f => 0.17.0-959+precise+master.bb116591fb2a6683633fbb61649d83750c673890)
      samba                             (3.6.3-2ubuntu2.12 => 3.6.3-2ubuntu2.13)
      samba-common                      (3.6.3-2ubuntu2.12 => 3.6.3-2ubuntu2.13)
      samba-common-bin                  (3.6.3-2ubuntu2.12 => 3.6.3-2ubuntu2.13)
      smbclient                         (3.6.3-2ubuntu2.12 => 3.6.3-2ubuntu2.13)
</advanced>

## Release 26 {#26}

### Notable changes

* Package `puavo-rest`: [optimized organization data queries by limiting
  the search scope](https://github.com/opinsys/puavo-users/commit/3c041501bbdca5087c4106bab73db7d5e174e134).

### Security updates

- Package `libnspr4`:
  [CVE-2015-7183](https://security-tracker.debian.org/tracker/CVE-2015-7183)

- Package `libnss3`:
  [CVE-2015-7181](https://security-tracker.debian.org/tracker/CVE-2015-7181),
  [CVE-2015-7182](https://security-tracker.debian.org/tracker/CVE-2015-7182)

### Update path from Release 25

- Typically, need to get 106.0MiB of archives.

- Has **low/medium** impact on the availability of the end user service:

  - Daemon process `puavo-rest` will be started and stopped during
    the update process. Estimated service downtime for this process
    is ~30sec. During the downtime, netboot devices are unable to
    boot or login.

- <advanced title="5 new packages">
      gdisk                           (0.8.1-1ubuntu0.1)
      libicu48                        (4.8.1.1-3ubuntu0.6)
      linux-headers-3.2.0-94          (3.2.0-94.134)
      linux-headers-3.2.0-94-generic  (3.2.0-94.134)
      linux-image-3.2.0-94-generic    (3.2.0-94.134)
</advanced>

- <advanced title="12 updated packages">
      libnspr4               (4.10.7-0ubuntu0.12.04.1 => 4.10.10-0ubuntu0.12.04.1)
      libnss3                (3.19.2-0ubuntu0.12.04.1 => 3.19.2.1-0ubuntu0.12.04.1)
      libnss3-1d             (3.19.2-0ubuntu0.12.04.1 => 3.19.2.1-0ubuntu0.12.04.1)
      linux-generic          (3.2.0.92.106 => 3.2.0.94.108)
      linux-headers-generic  (3.2.0.92.106 => 3.2.0.94.108)
      linux-image-generic    (3.2.0.92.106 => 3.2.0.94.108)
      linux-image-server     (3.2.0.92.106 => 3.2.0.94.108)
      puavo-image-tools      (0.16.1-928+precise+master.2211bb558f7f140674659071cb0e1cb09e82ab5f => 0.17.0-943+precise+master.7df6057a87f0e86a7c2997cfbe81325093c54de7)
      puavo-ltsp-bootserver  (0.16.1-928+precise+master.2211bb558f7f140674659071cb0e1cb09e82ab5f => 0.17.0-943+precise+master.7df6057a87f0e86a7c2997cfbe81325093c54de7)
      puavo-rest             (0.11.0-717+precise.master.94141c4f9ada98837c5e56b3e69ff18ea849d7a8 => 0.11.0-728+precise.master.d35b30b58bc86233baec8563ebd8bacf752f37da)
      puavo-rest-bootserver  (0.11.0-717+precise.master.94141c4f9ada98837c5e56b3e69ff18ea849d7a8 => 0.11.0-728+precise.master.d35b30b58bc86233baec8563ebd8bacf752f37da)
      unzip                  (6.0-4ubuntu2.4 => 6.0-4ubuntu2.5)
</advanced>

## Release 25 {#25}

### Notable changes

- Package `puavo-rest` is updated to fix a bootserver update issue in a
  situation where an organization owner list contained a dangling
  reference to a previously deleted user. Deleted user appeared as an
  invalid entry in the organization owner list which caused the update
  to abort in the post-update phase.

### Security updates

- Package `ntp`:
  [CVE-2015-5146](https://security-tracker.debian.org/tracker/CVE-2015-5146),
  [CVE-2015-5146](https://security-tracker.debian.org/tracker/CVE-2015-5146),
  [CVE-2015-5194](https://security-tracker.debian.org/tracker/CVE-2015-5194),
  [CVE-2015-5194](https://security-tracker.debian.org/tracker/CVE-2015-5194),
  [CVE-2015-5195](https://security-tracker.debian.org/tracker/CVE-2015-5195),
  [CVE-2015-5195](https://security-tracker.debian.org/tracker/CVE-2015-5195),
  [CVE-2015-5196](https://security-tracker.debian.org/tracker/CVE-2015-5196),
  [CVE-2015-5196](https://security-tracker.debian.org/tracker/CVE-2015-5196),
  [CVE-2015-7703](https://security-tracker.debian.org/tracker/CVE-2015-7703),
  [CVE-2015-5219](https://security-tracker.debian.org/tracker/CVE-2015-5219),
  [CVE-2015-5219](https://security-tracker.debian.org/tracker/CVE-2015-5219),
  [CVE-2015-5300](https://security-tracker.debian.org/tracker/CVE-2015-5300),
  [CVE-2015-5300](https://security-tracker.debian.org/tracker/CVE-2015-5300),
  [CVE-2015-7691](https://security-tracker.debian.org/tracker/CVE-2015-7691),
  [CVE-2015-7691](https://security-tracker.debian.org/tracker/CVE-2015-7691),
  [CVE-2015-7692](https://security-tracker.debian.org/tracker/CVE-2015-7692),
  [CVE-2015-7702](https://security-tracker.debian.org/tracker/CVE-2015-7702),
  [CVE-2015-7701](https://security-tracker.debian.org/tracker/CVE-2015-7701),
  [CVE-2015-7701](https://security-tracker.debian.org/tracker/CVE-2015-7701),
  [CVE-2015-7704](https://security-tracker.debian.org/tracker/CVE-2015-7704),
  [CVE-2015-7704](https://security-tracker.debian.org/tracker/CVE-2015-7704),
  [CVE-2015-7705](https://security-tracker.debian.org/tracker/CVE-2015-7705),
  [CVE-2015-7850](https://security-tracker.debian.org/tracker/CVE-2015-7850),
  [CVE-2015-7850](https://security-tracker.debian.org/tracker/CVE-2015-7850),
  [CVE-2015-7852](https://security-tracker.debian.org/tracker/CVE-2015-7852),
  [CVE-2015-7852](https://security-tracker.debian.org/tracker/CVE-2015-7852),
  [CVE-2015-7853](https://security-tracker.debian.org/tracker/CVE-2015-7853),
  [CVE-2015-7853](https://security-tracker.debian.org/tracker/CVE-2015-7853),
  [CVE-2015-7855](https://security-tracker.debian.org/tracker/CVE-2015-7855),
  [CVE-2015-7855](https://security-tracker.debian.org/tracker/CVE-2015-7855),
  [CVE-2015-7871](https://security-tracker.debian.org/tracker/CVE-2015-7871),
  [CVE-2015-7871](https://security-tracker.debian.org/tracker/CVE-2015-7871)

- Package `unzip`:
  [CVE-2015-7696](https://security-tracker.debian.org/tracker/CVE-2015-7696),
  [CVE-2015-7697](https://security-tracker.debian.org/tracker/CVE-2015-7697)

### Update path from Release 24

- Typically, need to get 45.7MiB of archives.

- Has **low** impact on the availability of the end user service:

  - Daemon process `puavo-rest` will be started and stopped during
    the update process. Estimated service downtime for this process
    is ~20sec. During the downtime, netboot devices are unable to
    boot or login.

- <advanced title="5 updated packages">
      ntp                    (4.2.6.p3+dfsg-1ubuntu3.4 => 4.2.6.p3+dfsg-1ubuntu3.6)
      ntpdate                (4.2.6.p3+dfsg-1ubuntu3.4 => 4.2.6.p3+dfsg-1ubuntu3.6)
      puavo-rest             (0.11.0-676+precise.master.c1a2b763a07c9a4d91f39dafe448088cff0f2143 => 0.11.0-717+precise.master.94141c4f9ada98837c5e56b3e69ff18ea849d7a8)
      puavo-rest-bootserver  (0.11.0-676+precise.master.c1a2b763a07c9a4d91f39dafe448088cff0f2143 => 0.11.0-717+precise.master.94141c4f9ada98837c5e56b3e69ff18ea849d7a8)
      unzip                  (6.0-4ubuntu2.3 => 6.0-4ubuntu2.4)
</advanced>

## Release 24 {#24}

### Notable changes

- The default administrative VPN interface has been renamed to `vpn1`
  and it's type is changed from `tun` to `tap`. The change is put into
  effect the next time `openvpn` is restarted.

- The recommended kernel is updated to 3.10.92-031092.

### Update path from Release 23

- Typically, need to get 115.0MiB of archives.

- Has **very low** impact on the availability of the end user service:

  - No services will be restarted. The service is affected only
    cpu/net/disk usage of the update process.

- <advanced title="6 new packages">
      linux-headers-3.10.92-031092          (3.10.92-031092.201510262203)
      linux-headers-3.10.92-031092-generic  (3.10.92-031092.201510262203)
      linux-headers-3.2.0-92                (3.2.0-92.131)
      linux-headers-3.2.0-92-generic        (3.2.0-92.131)
      linux-image-3.10.92-031092-generic    (3.10.92-031092.201510262203)
      linux-image-3.2.0-92-generic          (3.2.0-92.131)
</advanced>

- <advanced title="16 updated packages">
      apt                    (0.8.16~exp12ubuntu10.25 => 0.8.16~exp12ubuntu10.26)
      apt-transport-https    (0.8.16~exp12ubuntu10.25 => 0.8.16~exp12ubuntu10.26)
      apt-utils              (0.8.16~exp12ubuntu10.25 => 0.8.16~exp12ubuntu10.26)
      libapt-inst1.4         (0.8.16~exp12ubuntu10.25 => 0.8.16~exp12ubuntu10.26)
      libapt-pkg4.12         (0.8.16~exp12ubuntu10.25 => 0.8.16~exp12ubuntu10.26)
      libmysqlclient18       (5.5.44-0ubuntu0.12.04.1 => 5.5.46-0ubuntu0.12.04.2)
      libpq5                 (9.1.18-0ubuntu0.12.04 => 9.1.19-0ubuntu0.12.04)
      linux-generic          (3.2.0.91.105 => 3.2.0.92.106)
      linux-headers-generic  (3.2.0.91.105 => 3.2.0.92.106)
      linux-image-generic    (3.2.0.91.105 => 3.2.0.92.106)
      linux-image-server     (3.2.0.91.105 => 3.2.0.92.106)
      mysql-common           (5.5.44-0ubuntu0.12.04.1 => 5.5.46-0ubuntu0.12.04.2)
      opinsys-bootserver     (0.6.2-233+precise+master.8783cea597009d5922d0fa750915b95ab2126346 => 0.6.3-237+precise+master.475d4a2c60ca8e3821bc11ae34394162f4980664)
      opinsys-rules          (0.6.2-233+precise+master.8783cea597009d5922d0fa750915b95ab2126346 => 0.6.3-237+precise+master.475d4a2c60ca8e3821bc11ae34394162f4980664)
      tzdata                 (2015f-0ubuntu0.12.04 => 2015g-0ubuntu0.12.04)
      tzdata-java            (2015f-0ubuntu0.12.04 => 2015g-0ubuntu0.12.04)
</advanced>

## Release 23 {#23}

### Notable changes

* Lots of security fixes in various packages.

* CUPS web interface is accessible from VPN tunnels.

* The recommended kernel is updated to 3.10.89-031089.

### Update path from Release 22

- Need to get 229.0MiB of archives.

- Has **medium** impact on the availability of the end user service:

  - Daemon process `puavo-rest` will be started and stopped during
    the update process. Estimated service downtime for this process
    is ~2min. During the downtime, netboot devices are unable to
    boot or login.

- <advanced title="11 new packages">
      heirloom-mailx                           (12.5-1build1)
      ifenslave-2.6                            (1.1.0-19ubuntu5)
      libjemalloc1                             (2.2.5-1)
      linux-headers-3.10.89-031089             (3.10.89-031089.201509211852)
      linux-headers-3.10.89-031089-generic     (3.10.89-031089.201509211852)
      linux-headers-3.2.0-91                   (3.2.0-91.129)
      linux-headers-3.2.0-91-generic           (3.2.0-91.129)
      linux-image-3.10.89-031089-generic       (3.10.89-031089.201509211852)
      linux-image-3.2.0-91-generic             (3.2.0-91.129)
      redis-tools                              (3.0.3-2chl1~precise1)
      smartmontools                            (5.41+svn3365-1)
</advanced>

- <advanced title="76 updated packages">
      apt                              (0.8.16~exp12ubuntu10.24 => 0.8.16~exp12ubuntu10.25)
      apt-transport-https              (0.8.16~exp12ubuntu10.24 => 0.8.16~exp12ubuntu10.25)
      apt-utils                        (0.8.16~exp12ubuntu10.24 => 0.8.16~exp12ubuntu10.25)
      bind9                            (9.8.1.dfsg.P1-4ubuntu0.10 => 9.8.1.dfsg.P1-4ubuntu0.13)
      bind9-host                       (9.8.1.dfsg.P1-4ubuntu0.10 => 9.8.1.dfsg.P1-4ubuntu0.13)
      bind9utils                       (9.8.1.dfsg.P1-4ubuntu0.10 => 9.8.1.dfsg.P1-4ubuntu0.13)
      cups-filters                     (1.0.18-0ubuntu0.2 => 1.0.18-0ubuntu0.4)
      dnsutils                         (9.8.1.dfsg.P1-4ubuntu0.10 => 9.8.1.dfsg.P1-4ubuntu0.13)
      e2fslibs                         (1.42-1ubuntu2.2 => 1.42-1ubuntu2.3)
      e2fsprogs                        (1.42-1ubuntu2.2 => 1.42-1ubuntu2.3)
      ghostscript                      (9.05~dfsg-0ubuntu4.2 => 9.05~dfsg-0ubuntu4.3)
      ghostscript-cups                 (9.05~dfsg-0ubuntu4.2 => 9.05~dfsg-0ubuntu4.3)
      grub-common                      (1.99-21ubuntu3.17 => 1.99-21ubuntu3.18)
      grub-pc                          (1.99-21ubuntu3.17 => 1.99-21ubuntu3.18)
      grub-pc-bin                      (1.99-21ubuntu3.17 => 1.99-21ubuntu3.18)
      grub2-common                     (1.99-21ubuntu3.17 => 1.99-21ubuntu3.18)
      hplip                            (3.12.2-1ubuntu3.4 => 3.12.2-1ubuntu3.5)
      hplip-data                       (3.12.2-1ubuntu3.4 => 3.12.2-1ubuntu3.5)
      icedtea-6-jre-cacao              (6b35-1.13.7-1ubuntu0.12.04.2 => 6b36-1.13.8-0ubuntu1~12.04)
      icedtea-6-jre-jamvm              (6b35-1.13.7-1ubuntu0.12.04.2 => 6b36-1.13.8-0ubuntu1~12.04)
      libapt-inst1.4                   (0.8.16~exp12ubuntu10.24 => 0.8.16~exp12ubuntu10.25)
      libapt-pkg4.12                   (0.8.16~exp12ubuntu10.24 => 0.8.16~exp12ubuntu10.25)
      libbind9-80                      (9.8.1.dfsg.P1-4ubuntu0.10 => 9.8.1.dfsg.P1-4ubuntu0.13)
      libcomerr2                       (1.42-1ubuntu2.2 => 1.42-1ubuntu2.3)
      libcupsfilters1                  (1.0.18-0ubuntu0.2 => 1.0.18-0ubuntu0.4)
      libdns81                         (9.8.1.dfsg.P1-4ubuntu0.10 => 9.8.1.dfsg.P1-4ubuntu0.13)
      libexpat1                        (2.0.1-7.2ubuntu1.1 => 2.0.1-7.2ubuntu1.2)
      libfreetype6                     (2.4.8-1ubuntu2.2 => 2.4.8-1ubuntu2.3)
      libgs9                           (9.05~dfsg-0ubuntu4.2 => 9.05~dfsg-0ubuntu4.3)
      libgs9-common                    (9.05~dfsg-0ubuntu4.2 => 9.05~dfsg-0ubuntu4.3)
      libgudev-1.0-0                   (175-0ubuntu9.9 => 175-0ubuntu9.10)
      libhpmud0                        (3.12.2-1ubuntu3.4 => 3.12.2-1ubuntu3.5)
      libisc83                         (9.8.1.dfsg.P1-4ubuntu0.10 => 9.8.1.dfsg.P1-4ubuntu0.13)
      libisccc80                       (9.8.1.dfsg.P1-4ubuntu0.10 => 9.8.1.dfsg.P1-4ubuntu0.13)
      libisccfg82                      (9.8.1.dfsg.P1-4ubuntu0.10 => 9.8.1.dfsg.P1-4ubuntu0.13)
      liblwres80                       (9.8.1.dfsg.P1-4ubuntu0.10 => 9.8.1.dfsg.P1-4ubuntu0.13)
      libmysqlclient18                 (5.5.43-0ubuntu0.12.04.1 => 5.5.44-0ubuntu0.12.04.1)
      libnss3                          (3.17.4-0ubuntu0.12.04.1 => 3.19.2-0ubuntu0.12.04.1)
      libnss3-1d                       (3.17.4-0ubuntu0.12.04.1 => 3.19.2-0ubuntu0.12.04.1)
      libpcre3                         (8.12-4 => 8.12-4ubuntu0.1)
      libsane-hpaio                    (3.12.2-1ubuntu3.4 => 3.12.2-1ubuntu3.5)
      libslp1                          (1.2.1-7.8ubuntu1 => 1.2.1-7.8ubuntu1.1)
      libsnmp-base                     (5.4.3~dfsg-2.4ubuntu1.2 => 5.4.3~dfsg-2.4ubuntu1.3)
      libsnmp15                        (5.4.3~dfsg-2.4ubuntu1.2 => 5.4.3~dfsg-2.4ubuntu1.3)
      libsqlite3-0                     (3.7.9-2ubuntu1.1 => 3.7.9-2ubuntu1.2)
      libss2                           (1.42-1ubuntu2.2 => 1.42-1ubuntu2.3)
      libudev0                         (175-0ubuntu9.9 => 175-0ubuntu9.10)
      libxen-4.1                       (4.1.6.1-0ubuntu0.12.04.5 => 4.1.6.1-0ubuntu0.12.04.6)
      libxenstore3.0                   (4.1.6.1-0ubuntu0.12.04.5 => 4.1.6.1-0ubuntu0.12.04.6)
      linux-generic                    (3.2.0.86.100 => 3.2.0.91.105)
      linux-headers-generic            (3.2.0.86.100 => 3.2.0.91.105)
      linux-image-generic              (3.2.0.86.100 => 3.2.0.91.105)
      linux-image-server               (3.2.0.86.100 => 3.2.0.91.105)
      mysql-common                     (5.5.43-0ubuntu0.12.04.1 => 5.5.44-0ubuntu0.12.04.1)
      nginx                            (1.1.19-1ubuntu0.7 => 1.1.19-1ubuntu0.8)
      nginx-common                     (1.1.19-1ubuntu0.7 => 1.1.19-1ubuntu0.8)
      nginx-full                       (1.1.19-1ubuntu0.7 => 1.1.19-1ubuntu0.8)
      openjdk-6-jre-headless           (6b35-1.13.7-1ubuntu0.12.04.2 => 6b36-1.13.8-0ubuntu1~12.04)
      openjdk-6-jre-lib                (6b35-1.13.7-1ubuntu0.12.04.2 => 6b36-1.13.8-0ubuntu1~12.04)
      opinsys-bootserver               (0.6.1-200+precise+master.5e8179065de0d1db91ef2ed94cd9d3db09c2ccf3 => 0.6.2-233+precise+master.8783cea597009d5922d0fa750915b95ab2126346)
      opinsys-rules                    (0.6.1-200+precise+master.5e8179065de0d1db91ef2ed94cd9d3db09c2ccf3 => 0.6.2-233+precise+master.8783cea597009d5922d0fa750915b95ab2126346)
      printer-driver-hpcups            (3.12.2-1ubuntu3.4 => 3.12.2-1ubuntu3.5)
      printer-driver-hpijs             (3.12.2-1ubuntu3.4 => 3.12.2-1ubuntu3.5)
      printer-driver-postscript-hp     (3.12.2-1ubuntu3.4 => 3.12.2-1ubuntu3.5)
      puavo-ltsp-bootserver            (0.16.1-825+precise+master.6512d9483dbaaac5afad18c18b9f59e24626c2ea => 0.16.1-928+precise+master.2211bb558f7f140674659071cb0e1cb09e82ab5f)
      puavo-rest                       (0.11.0-478+precise.master.1b821bb9e7d48c27dfdf69b54eae2d38850dd287 => 0.11.0-676+precise.master.c1a2b763a07c9a4d91f39dafe448088cff0f2143)
      puavo-rest-bootserver            (0.11.0-478+precise.master.1b821bb9e7d48c27dfdf69b54eae2d38850dd287 => 0.11.0-676+precise.master.c1a2b763a07c9a4d91f39dafe448088cff0f2143)
      puavoadmins                      (0.2.11 => 0.2.12)
      redis-server                     (2.2.12-1build1 => 3.0.3-2chl1~precise1)
      rpcbind                          (0.2.0-7ubuntu1.2 => 0.2.0-7ubuntu1.3)
      ruby-puavobs                     (0.16.1-825+precise+master.6512d9483dbaaac5afad18c18b9f59e24626c2ea => 0.16.1-928+precise+master.2211bb558f7f140674659071cb0e1cb09e82ab5f)
      snmp                             (5.4.3~dfsg-2.4ubuntu1.2 => 5.4.3~dfsg-2.4ubuntu1.3)
      tzdata                           (2015d-0ubuntu0.12.04 => 2015f-0ubuntu0.12.04)
      tzdata-java                      (2015d-0ubuntu0.12.04 => 2015f-0ubuntu0.12.04)
      udev                             (175-0ubuntu9.9 => 175-0ubuntu9.10)
      x11-utils                        (7.6+4ubuntu0.1 => 7.6+4ubuntu0.2)
</advanced>

## Release 22 {#22}

### Notable changes

* Lots of security fixes in various packages.

* Bootserver reports its version to Puavo after a succesful update.

* Remove and avoid syncing lukiolaiskannettava images and rdiffs if
  schools/devices do not have any references to them.

* Support for locally administered Shorewall interfaces.

* The recommended kernel is updated to 3.10.81-031081-generic.

### Update path from Release 21

- Need to get 200.0MiB of archives.

- Has **medium** impact on the availability of the end user service:

  - Daemon process `cups`, `nscd`, and `tomcat6` will be started and
    stopped during the update process. Estimated maximum service
    downtime for these processes is ~2min.

  - Daemon processes `dnsmasq` and `racoon` will be restarted
    quickly (~1sec service downtime) during the update process.

- <advanced title="6 new packages">
      linux-headers-3.10.81-031081             3.10.81-031081.201506230313
      linux-headers-3.10.81-031081-generic     3.10.81-031081.201506230313
      linux-headers-3.2.0-86                   3.2.0-86.124
      linux-headers-3.2.0-86-generic           3.2.0-86.124
      linux-image-3.10.81-031081-generic       3.10.81-031081.201506230313
      linux-image-3.2.0-86-generic             3.2.0-86.124
</advanced>

- <advanced title="80 updated packages">
      apt                                      0.8.16~exp12ubuntu10.24
      apt-transport-https                      0.8.16~exp12ubuntu10.24
      apt-utils                                0.8.16~exp12ubuntu10.24
      binutils                                 2.22-6ubuntu1.3
      cups                                     1.5.3-0ubuntu8.7
      cups-client                              1.5.3-0ubuntu8.7
      cups-common                              1.5.3-0ubuntu8.7
      cups-ppdc                                1.5.3-0ubuntu8.7
      curl                                     7.22.0-3ubuntu4.14
      debootstrap                              1.0.40~ubuntu0.8
      devscripts                               2.11.6ubuntu1.7
      dnsmasq                                  2.59-4ubuntu0.2
      dnsmasq-base                             2.59-4ubuntu0.2
      dosfstools                               3.0.12-1ubuntu1.2
      dpkg                                     1.16.1.2ubuntu7.6
      dpkg-dev                                 1.16.1.2ubuntu7.6
      fuse                                     2.8.6-2ubuntu2.1
      icedtea-6-jre-cacao                      6b35-1.13.7-1ubuntu0.12.04.2
      icedtea-6-jre-jamvm                      6b35-1.13.7-1ubuntu0.12.04.2
      ipsec-tools                              1:0.8.0-9ubuntu1.1
      libapt-inst1.4                           0.8.16~exp12ubuntu10.24
      libapt-pkg4.12                           0.8.16~exp12ubuntu10.24
      libc-bin                                 2.15-0ubuntu10.12
      libc-dev-bin                             2.15-0ubuntu10.12
      libc6                                    2.15-0ubuntu10.12
      libc6-dev                                2.15-0ubuntu10.12
      libcups2                                 1.5.3-0ubuntu8.7
      libcupscgi1                              1.5.3-0ubuntu8.7
      libcupsimage2                            1.5.3-0ubuntu8.7
      libcupsmime1                             1.5.3-0ubuntu8.7
      libcupsppdc1                             1.5.3-0ubuntu8.7
      libcurl3                                 7.22.0-3ubuntu4.14
      libcurl3-gnutls                          7.22.0-3ubuntu4.14
      libdpkg-perl                             1.16.1.2ubuntu7.6
      libfuse2                                 2.8.6-2ubuntu2.1
      libgnutls28                              3.0.11-1ubuntu2.1
      libmysqlclient18                         5.5.43-0ubuntu0.12.04.1
      libpq5                                   9.1.18-0ubuntu0.12.04
      libpython2.7                             2.7.3-0ubuntu3.8
      libsdl1.2debian                          1.2.14-6.4ubuntu3.1
      libservlet2.5-java                       6.0.35-1ubuntu3.6
      libssl1.0.0                              1.0.1-4ubuntu5.31
      libtasn1-3                               2.10-1ubuntu1.4
      libtomcat6-java                          6.0.35-1ubuntu3.6
      libx11-6                                 2:1.4.99.1-0ubuntu2.3
      libx11-data                              2:1.4.99.1-0ubuntu2.3
      libx11-xcb1                              2:1.4.99.1-0ubuntu2.3
      libxext6                                 2:1.3.0-3ubuntu0.2
      libxfixes3                               1:5.0-4ubuntu4.4
      libxi6                                   2:1.7.1.901-1ubuntu1~precise3
      libxrender1                              1:0.9.6-2ubuntu0.2
      libxv1                                   2:1.0.6-2ubuntu0.2
      linux-generic                            3.2.0.86.100
      linux-headers-generic                    3.2.0.86.100
      linux-image-3.10.81-031081-generic       3.10.81-031081.201506230313
      linux-image-generic                      3.2.0.86.100
      linux-image-server                       3.2.0.86.100
      multiarch-support                        2.15-0ubuntu10.12
      mysql-common                             5.5.43-0ubuntu0.12.04.1
      nscd                                     2.15-0ubuntu10.12
      ntp                                      1:4.2.6.p3+dfsg-1ubuntu3.4
      ntpdate                                  1:4.2.6.p3+dfsg-1ubuntu3.4
      openjdk-6-jre-headless                   6b35-1.13.7-1ubuntu0.12.04.2
      openjdk-6-jre-lib                        6b35-1.13.7-1ubuntu0.12.04.2
      openssl                                  1.0.1-4ubuntu5.31
      opinsys-bootserver                       0.6.1-200+precise+master.5e8179065de0d1db91ef2ed94cd9d3db09c2ccf3
      opinsys-rules                            0.6.1-200+precise+master.5e8179065de0d1db91ef2ed94cd9d3db09c2ccf3
      patch                                    2.6.1-3ubuntu0.1
      ppp                                      2.4.5-5ubuntu1.2
      puavo-client                             2.1.0-93+precise.master.7e104bbc3f8e4be9bcf35550272af0e359bb5bcf
      python2.7                                2.7.3-0ubuntu3.8
      python2.7-minimal                        2.7.3-0ubuntu3.8
      racoon                                   1:0.8.0-9ubuntu1.1
      tcpdump                                  4.2.1-1ubuntu2.2
      tomcat6                                  6.0.35-1ubuntu3.6
      tomcat6-common                           6.0.35-1ubuntu3.6
      tzdata                                   2015d-0ubuntu0.12.04
      tzdata-java                              2015d-0ubuntu0.12.04
      update-manager-core                      1:0.156.14.19
      upstart                                  1.5-0ubuntu7.3
</advanced>

## Release 21 {#21}

### Notable changes

* Fixed a deadlock bug in `nbd-server`. The bug caused `nbd-server` to
  occasionally lockup, effectively making it incapable of accepting
  any new connections.

* Fix `puavo-rest` to refresh cached organization data when it is
  accessed via REST API.

### Update path from Release 20

- Need to get 15.0MiB of archives.

- Has very high impact on the availability of the end user service:

  - Daemon process `nbd-server` will be restarted during the update
    and all nbd connections will be terminated, which effectively
    breaks all netboot device sessions.

- <advanced title="9 updated packages">
      gnupg                     1.4.11-3ubuntu2.9
      gpgv                      1.4.11-3ubuntu2.9
      libgcrypt11               1.5.0-3ubuntu0.4
      libtiff4                  3.9.5-2ubuntu1.8
      nbd-server                3.3-0+opinsys4
      opinsys-bootserver        0.5.3-152+precise+master.9e09e002bb5ba127c14ab50629d2cb0dc814e3a3
      opinsys-rules             0.5.3-152+precise+master.9e09e002bb5ba127c14ab50629d2cb0dc814e3a3
      puavo-rest                0.11.0-478+precise.master.1b821bb9e7d48c27dfdf69b54eae2d38850dd287
      puavo-rest-bootserver     0.11.0-478+precise.master.1b821bb9e7d48c27dfdf69b54eae2d38850dd287
</advanced>

## Release 20 {#20}

### Known issues

- It has been reported that occasionally after updating to version
  20, `nslcd` has been running more than two processes, effectively
  breaking name lookups from LDAP. After a succesful update, please
  run:

      pgrep -x -c nslcd # Print the number of nslcd processes.

  If the number it prints is not 2, kill all `nslcd` processes and
  then make a fresh start:

      sudo killall nslcd
      sudo service nslcd start

### Notable changes

* Image synchronization is optimized to ignore opinsysextra-images by
  bootservers which do not have any use for them. This change in
  behavior is introduced to save both network bandwidth and disk
  space.

  - If there are no references to any opinsysextra-images in Puavo and
    there are no locked opinsysextra-images in `/opt/ltsp/images`, all
    existing opinsysextra-images and their corresponding rdiffs are
    deleted. Moreover, opinsysextra-images will not be synced by
    `opinsys-img-sync` command.

  - Inversely, opinsysextra-images are synced normally if there is at
    least one `.lock` file for any opinsysextra-image or there is at
    least one reference to any opinsysextra-image in Puavo.

  - Admins wishing to maintain the old behavior should create a lock
    file for any opinsysextra-image (the image file does not even need
    to exist), for example:

        sudo touch /opt/ltsp/images/ltsp-opinsysextra-trusty-1970-01-01-000000-i386.img.lock

* Local administrators (Puavoadmins) are maintained in Puavo as
  organization owners instead of Puppet.

  - The local copy of the organization owner database (Orgjson) is saved to
    `/etc/puavo/org.json` with `puavoadmins-update` command which is
    executed during configuration phase with a dedicated ECS.

  - Orgjson contains names, public ssh keys and uids of Puavoadmins.

  - OpenSSH server authenticates users against the Orgjson.

  - Name services for Puavoadmins is provided by puavoadmins NSS
    module.

  - The primary group of Puavoadmins is `puavoadmins` (gid=555).

  - Puavoadmins are granted the right to run anything as root via
    `sudo`. Puavoadmins must authenticate themselves with their Puavo
    password.

  - Old administrators are removed automatically from `/etc/passwd` and
    `/etc/group`. Make sure no old administrators are logged in during
    the update!

* Support for locally maintained firewall rules.

* Qemu is updated to improve network throughput of virtual domains.

* Numerous security fixes in base packages.

### Update path from Release 19

- Need to get 85.8MiB of archives.

- Has low impact on the availability of the end user service:

  - Processes `cups`, `nscd` and `fluentd` are restarted during the
    update.

- <advanced title="68 updated packages">
      cups                             1.5.3-0ubuntu8.6
      cups-client                      1.5.3-0ubuntu8.6
      cups-common                      1.5.3-0ubuntu8.6
      cups-ppdc                        1.5.3-0ubuntu8.6
      fluent-plugin-puavo              0.3.0-27+precise+master.80cbfc1cc91405ec52b91d91e2ac56e48ec8b44d
      fluentd                          0.10.57-3+opinsys1
      ipxe-qemu                        1.0.0+git-20141004.86285d1-5+precise.amd64+kvm2.b46e748e7c545a159841dbbdca8298f730e5d049
      libaudit0                        1.7.18-1ubuntu1
      libc-bin                         2.15-0ubuntu10.11
      libc-dev-bin                     2.15-0ubuntu10.11
      libc6                            2.15-0ubuntu10.11
      libc6-dev                        2.15-0ubuntu10.11
      libcups2                         1.5.3-0ubuntu8.6
      libcupscgi1                      1.5.3-0ubuntu8.6
      libcupsimage2                    1.5.3-0ubuntu8.6
      libcupsmime1                     1.5.3-0ubuntu8.6
      libcupsppdc1                     1.5.3-0ubuntu8.6
      libfdt1                          1.3.0-2ubuntu1
      libfreetype6                     2.4.8-1ubuntu2.2
      libgnutls26                      2.12.14-5ubuntu3.9
      libgnutls28                      3.0.11-1ubuntu2
      libhogweed2                      2.4-1
      libjansson4                      2.2.1-1
      libnetcf1                        0.1.9-2ubuntu3.2
      libnettle4                       2.4-1
      libnl-route-3-200                3.2.3-2ubuntu2
      librrd4                          1.4.7-1ubuntu1
      librrds-perl                     1.4.7-1ubuntu1
      libssh2-1                        1.2.8-2
      libssl1.0.0                      1.0.1-4ubuntu5.25
      libvirt-bin                      1.2.9-9+opinsys2
      libvirt-clients                  1.2.9-9+opinsys2
      libvirt-daemon                   1.2.9-9+opinsys2
      libvirt-daemon-system            1.2.9-9+opinsys2
      libvirt0                         1.2.9-9+opinsys2
      libx86-1                         1.1+ds1-7ubuntu1
      libxen-4.1                       4.1.6.1-0ubuntu0.12.04.5
      libxenstore3.0                   4.1.6.1-0ubuntu0.12.04.5
      linux-generic                    3.2.0.79.93
      linux-headers-3.2.0-79           3.2.0-79.115
      linux-headers-3.2.0-79-generic   3.2.0-79.115
      linux-headers-generic            3.2.0.79.93
      linux-image-3.2.0-79-generic     3.2.0-79.115
      linux-image-generic              3.2.0.79.93
      linux-image-server               3.2.0.79.93
      multiarch-support                2.15-0ubuntu10.11
      nscd                             2.15-0ubuntu10.11
      openssl                          1.0.1-4ubuntu5.25
      opinsys-bootserver               0.5.3-151+precise+master.4ca7a6113e5f3582862d2fa5ac9fe5608c4986f7
      opinsys-rules                    0.5.3-151+precise+master.4ca7a6113e5f3582862d2fa5ac9fe5608c4986f7
      pm-utils                         1.4.1-9fix.ubuntu12.04
      puavo-devscripts                 0.6.2
      puavo-ltsp-bootserver            0.16.1-825+precise+master.6512d9483dbaaac5afad18c18b9f59e24626c2ea
      puavo-rules                      1.6.0-119+precise+master.3458e69ded612ebed33b79de0cc28bbb7aed7f44
      puavoadmins                      0.2.11
      qemu-keymaps                     1.0.50-2012.03-0ubuntu2.1
      qemu-kvm                         2.0.0+dfsg-2ubuntu1.10+opinsys1
      qemu-system-common               2.0.0+dfsg-2ubuntu1.10+opinsys1
      qemu-system-x86                  2.0.0+dfsg-2ubuntu1.10+opinsys1
      qemu-utils                       2.0.0+dfsg-2ubuntu1.10+opinsys1
      rrdtool                          1.4.7-1ubuntu1
      ruby-puavobs                     0.16.1-825+precise+master.6512d9483dbaaac5afad18c18b9f59e24626c2ea
      seabios                          1.7.4-4
      sharutils                        1:4.11-1
      sudo                             1.8.3p1-1ubuntu3.7
      tzdata                           2015b-0ubuntu0.12.04
      tzdata-java                      2015b-0ubuntu0.12.04
      vbetool                          1.1-2ubuntu1
</advanced>

## Release 19 {#19}

### Security updates

- `bind9`: [CVE-2015-1349](http://people.canonical.com/~ubuntu-security/cve/2015/CVE-2015-1349.html)

- `e2fsprogs`: [CVE-2015-0247](http://people.canonical.com/~ubuntu-security/cve/2015/CVE-2015-0247.html) and [CVE-2015-1572](http://people.canonical.com/~ubuntu-security/cve/2015/CVE-2015-1572.html)

- `samba`: [CVE-2015-0240](http://people.canonical.com/~ubuntu-security/cve/2015/CVE-2015-0240.html)

- `unzip`: [CVE-2015-1315](http://people.canonical.com/~ubuntu-security/cve/2015/CVE-2015-1315.html)

### Update path from Release 18

- Has very low impact on the availability of the service:
  daemon processes named and smbd will be restarted quickly
  during the update process.

- <advanced title="24 updated packages">
      e2fslibs             1.42-1ubuntu2.2
      e2fsprogs            1.42-1ubuntu2.2
      libcomerr2           1.42-1ubuntu2.2
      libss2               1.42-1ubuntu2.2
      libnss3              3.17.4-0ubuntu0.12.04.1
      libnss3              3.17.4-0ubuntu0.12.04.1
      samba                2:3.6.3-2ubuntu2.12
      libwbclient0         2:3.6.3-2ubuntu2.12
      smbclient            2:3.6.3-2ubuntu2.12
      samba-common         2:3.6.3-2ubuntu2.12
      samba-common-bin     2:3.6.3-2ubuntu2.12
      bind9                1:9.8.1.dfsg.P1-4ubuntu0.10
      bind9-host           1:9.8.1.dfsg.P1-4ubuntu0.10
      dnsutils             1:9.8.1.dfsg.P1-4ubuntu0.10
      libisc83             1:9.8.1.dfsg.P1-4ubuntu0.10
      libisccc80           1:9.8.1.dfsg.P1-4ubuntu0.10
      libisccfg82          1:9.8.1.dfsg.P1-4ubuntu0.10
      liblwres80           1:9.8.1.dfsg.P1-4ubuntu0.10
      libdns81             1:9.8.1.dfsg.P1-4ubuntu0.10
      bind9utils           1:9.8.1.dfsg.P1-4ubuntu0.10
      libbind9-80          1:9.8.1.dfsg.P1-4ubuntu0.10
      ca-certificates      20141019ubuntu0.12.04.1
      update-manager-core  1:0.156.14.18
      unzip                6.0-4ubuntu2.3
</advanced>

## Release 18 {#18}

### Notable changes

* Change ECS/Reboot to delay rebooting by 1 minute. Previously
  the reboot was immediate.

  * Allows admins to cancel the reboot within the 1 minute
    remorse period.

  * Gives enough time for pre15 updates to finish gracefully.

## Release 17 {#17}

### Notable changes

* Updated the recommended kernel to `3.10.69-031069-generic`.

* Updated LDAP and Kerberos configurations (`/etc/nslcd.conf`,
  `/etc/krb5.conf` and `/etc/ldap/ldap.conf`) to ensure `krb5` and `ldap`
  requests fallback to the master server in case local `krb5kdc`
  and/or `slapd` are unavailable.

* Added `vpn1` to firewall's ovpn zone. The default OpenVPN
  interface will be renamed to `vpn1` in the future. This change
  prepares the system for the upcoming rename to ensure smooth
  transition.

* Fixed a race condition in smoke tests which caused occasional
  test prepartion failures.

* Updated MOTD shows a note if the last update was unsuccessful.

* Added Munin to collect and plot system data. Plotted graphs are
  available in port 8089 at `localhost`.

* Fixed logrotate to copytruncate netboot device -specific
  syslogs to avoid remote rsyslogs from appending to deleted log
  files.

## Release 16 {#16}

### Notable changes

* Security fixes for `openjdk-6` and `eglibc`.

* ECS(reboot): run if any process uses an old version of libc.

## Release 15 {#15}

### Notable changes

* Version numbering scheme has been simplified: from now on, it
  is simply an integer increasing by one on each release.

* Package mirrors have been versioned. Versioned mirrors ensure
  consistent upgrades across all servers.

* Packages `krb5`, `openldap` and `libverto` include now i386
  versions. This fixes multiarch package dependecy problems
  experienced on some systems which have manually installed extraneous
  packages.

* OpenSSH has been updated to 6.6p1. The new `openssh-server`
  introduces `AuthorizedKeysCommand` option, which will be used in
  upcoming releases to grant SSH-access to Puavo administrators.

* MOTD has been updated to display an update note when a new version
  is available.

* Various extra configuration scripts (ECS) will be run in the last
  phase of the update. ECSs are unsafe by nature, meaning that running
  them has immediate and significant effects on the
  availability/quality of the service. ECSs are *never* run
  automatically, they always require attention and explicit execution
  approval from the system admin.

* New OpenVPN configuration for alternative/secondary adminstrative
  tunnel. New OpenVPN instance with the alternative configuration will
  be started automatically. This requires changes to the current
  firewall configuration.

* All smoke test combinations can be run sequentially without any
  interruptions:

      sudo puavo-bootserver-smoke-test --all

  A test result summary is printed to standard output after all
  test runs have finished.

* The update tool has been changed to run apt non-interacively by
  default. This change should make updating even easier by not
  prompting any configuration file changes or debconf selections. To
  run the update in the old interactive mode, run:

      sudo opinsys-update-bootserver --apt-mode interactive

  Use `--help` to get help.

* To update, run:

      sudo opinsys-update-bootserver

  * During the update, debconf can ask some questions. Accept the
    default answer to each question:

        Q: Check server's SSL certificate?
        A: demand

        Q: Restart services during package upgrades without asking?
        A: no

        Q: Services to restart for nslcd upgrade?
        A: racoon cups cron atd

        Q: Disable SSH password authentication for root?
        A: No

</code></pre>
            </div>
        </div>
        <script src="../bundle.js?v=2" charset="utf-8"></script>
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9439432-8', 'auto');
  ga('send', 'pageview');

       </script>
    </body>
</html>
